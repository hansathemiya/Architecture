<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced HTML Tester</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            display: flex;
            flex-direction: column;
            height: 100vh;
            background: linear-gradient(135deg, #1a2a6c, #2c3e50);
            color: #ecf0f1;
            overflow: hidden;
        }
        
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 20px;
            background: rgba(0, 0, 0, 0.7);
            border-bottom: 1px solid #3498db;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 10;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo i {
            color: #3498db;
            font-size: 28px;
        }
        
        .logo h1 {
            font-size: 24px;
            font-weight: 600;
            background: linear-gradient(to right, #3498db, #2ecc71);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .control-group {
            display: flex;
            gap: 8px;
            align-items: center;
            padding: 0 12px;
            border-right: 1px solid #3498db;
        }
        
        .control-group:last-child {
            border-right: none;
        }
        
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        button:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        button.secondary {
            background: #2ecc71;
        }
        
        button.secondary:hover {
            background: #27ae60;
        }
        
        button.danger {
            background: #e74c3c;
        }
        
        button.danger:hover {
            background: #c0392b;
        }
        
        .content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }
        
        .editor-container {
            width: 50%;
            display: flex;
            flex-direction: column;
            background: #1e1e1e;
            border-right: 1px solid #3498db;
        }
        
        .editor-header {
            padding: 10px 15px;
            background: #2d2d2d;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #3498db;
        }
        
        .editor-title {
            font-size: 16px;
            font-weight: 500;
            color: #3498db;
        }
        
        .editor-actions {
            display: flex;
            gap: 8px;
        }
        
        .editor-actions button {
            padding: 4px 10px;
            font-size: 13px;
        }
        
        #htmlInput {
            width: 100%;
            flex: 1;
            border: none;
            padding: 15px;
            font-family: 'Fira Code', 'Consolas', monospace;
            font-size: 15px;
            line-height: 1.5;
            background: #1e1e1e;
            color: #d4d4d4;
            resize: none;
            outline: none;
            tab-size: 4;
        }
        
        .preview-container {
            width: 50%;
            display: flex;
            flex-direction: column;
            background: #2c3e50;
        }
        
        .preview-header {
            padding: 10px 15px;
            background: #2d2d2d;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #3498db;
        }
        
        .device-controls {
            display: flex;
            gap: 10px;
        }
        
        .device-btn {
            background: #34495e;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 13px;
        }
        
        .device-btn.active {
            background: #3498db;
        }
        
        .device-size {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .device-size input {
            width: 70px;
            padding: 6px;
            border-radius: 4px;
            border: 1px solid #3498db;
            background: #1e1e1e;
            color: white;
        }
        
        .preview-frame {
            flex: 1;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #34495e;
            overflow: auto;
        }
        
        .preview-wrapper {
            width: 100%;
            height: 100%;
            background: white;
            border: 1px solid #3498db;
            border-radius: 4px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
        }
        
        .preview-wrapper iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .status-bar {
            padding: 8px 20px;
            background: rgba(0, 0, 0, 0.7);
            border-top: 1px solid #3498db;
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #bdc3c7;
        }
        
        .status-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .status-item i {
            color: #3498db;
        }
        
        .export-dialog {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .export-dialog.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .dialog-content {
            background: #2d2d2d;
            padding: 25px;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            border: 1px solid #3498db;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .dialog-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .dialog-title {
            font-size: 22px;
            color: #3498db;
        }
        
        .close-dialog {
            background: none;
            border: none;
            color: #e74c3c;
            font-size: 24px;
            cursor: pointer;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #ecf0f1;
        }
        
        .form-group input {
            width: 100%;
            padding: 12px;
            border-radius: 4px;
            border: 1px solid #3498db;
            background: #1e1e1e;
            color: white;
            font-size: 16px;
        }
        
        .dialog-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        .theme-selector {
            display: flex;
            gap: 8px;
        }
        
        .theme-btn {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .theme-btn.active {
            border-color: white;
        }
        
        .theme-btn:nth-child(1) { background: #1e1e1e; }
        .theme-btn:nth-child(2) { background: #272822; }
        .theme-btn:nth-child(3) { background: #0f0f0f; }
        
        /* Syntax highlighting colors */
        .tag { color: #e06c75; } /* Red */
        .attr { color: #d19a66; } /* Orange */
        .value { color: #98c379; } /* Green */
        .comment { color: #5c6370; font-style: italic; } /* Gray */
        .text { color: #abb2bf; } /* Light gray */
        .keyword { color: #c678dd; } /* Purple */
        .function { color: #61afef; } /* Blue */
    </style>
</head>
<body>
    <div class="top-bar">
        <div class="logo">
            <i class="fas fa-code"></i>
            <h1>Advanced HTML Tester</h1>
        </div>
        <div class="controls">
            <div class="control-group">
                <button id="clearBtn" class="danger">
                    <i class="fas fa-broom"></i> Clear
                </button>
                <button id="exportBtn" class="secondary">
                    <i class="fas fa-file-export"></i> Export
                </button>
            </div>
            <div class="control-group">
                <div class="theme-selector">
                    <div class="theme-btn active" style="background: #1e1e1e;" data-theme="#1e1e1e"></div>
                    <div class="theme-btn" style="background: #272822;" data-theme="#272822"></div>
                    <div class="theme-btn" style="background: #0f0f0f;" data-theme="#0f0f0f"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="content">
        <div class="editor-container">
            <div class="editor-header">
                <div class="editor-title">HTML Editor</div>
                <div class="editor-actions">
                    <button id="formatBtn">
                        <i class="fas fa-indent"></i> Format
                    </button>
                    <button id="toggleComments">
                        <i class="fas fa-comment"></i> Comments
                    </button>
                </div>
            </div>
            <textarea id="htmlInput" placeholder="Type your HTML here..."></textarea>
        </div>
        
        <div class="preview-container">
            <div class="preview-header">
                <div class="device-controls">
                    <button class="device-btn active" data-device="desktop">Desktop</button>
                    <button class="device-btn" data-device="tablet">Tablet</button>
                    <button class="device-btn" data-device="mobile">Mobile</button>
                </div>
                <div class="device-size">
                    <input type="number" id="widthInput" value="100" min="320" max="2560"> × 
                    <input type="number" id="heightInput" value="100" min="320" max="1440"> %
                </div>
            </div>
            <div class="preview-frame">
                <div class="preview-wrapper">
                    <iframe id="htmlOutput"></iframe>
                </div>
            </div>
        </div>
    </div>
    
    <div class="status-bar">
        <div class="status-item">
            <i class="fas fa-file-code"></i>
            <span>HTML Editor</span>
        </div>
        <div class="status-item">
            <i class="fas fa-sync-alt"></i>
            <span>Auto-refresh: On</span>
        </div>
        <div class="status-item">
            <i class="fas fa-ruler-combined"></i>
            <span>Dimensions: <span id="dimensionDisplay">100% × 100%</span></span>
        </div>
    </div>
    
    <div class="export-dialog" id="exportDialog">
        <div class="dialog-content">
            <div class="dialog-header">
                <div class="dialog-title">Export HTML</div>
                <button class="close-dialog" id="closeDialog">&times;</button>
            </div>
            <div class="form-group">
                <label for="fileName">File Name</label>
                <input type="text" id="fileName" placeholder="Enter file name (without .html)">
            </div>
            <div class="form-group">
                <label for="fileDescription">Description (Optional)</label>
                <input type="text" id="fileDescription" placeholder="Enter description for your file">
            </div>
            <div class="dialog-actions">
                <button class="danger" id="cancelExport">Cancel</button>
                <button class="secondary" id="confirmExport">Export</button>
            </div>
        </div>
    </div>

    <script>
        const htmlInput = document.getElementById('htmlInput');
        const htmlOutput = document.getElementById('htmlOutput');
        const clearBtn = document.getElementById('clearBtn');
        const exportBtn = document.getElementById('exportBtn');
        const exportDialog = document.getElementById('exportDialog');
        const closeDialog = document.getElementById('closeDialog');
        const cancelExport = document.getElementById('cancelExport');
        const confirmExport = document.getElementById('confirmExport');
        const fileNameInput = document.getElementById('fileName');
        const fileDescription = document.getElementById('fileDescription');
        const widthInput = document.getElementById('widthInput');
        const heightInput = document.getElementById('heightInput');
        const dimensionDisplay = document.getElementById('dimensionDisplay');
        const deviceBtns = document.querySelectorAll('.device-btn');
        const formatBtn = document.getElementById('formatBtn');
        const toggleComments = document.getElementById('toggleComments');
        const themeBtns = document.querySelectorAll('.theme-btn');
        
        // Sample HTML content
        const sampleHTML = `<!DOCTYPE html>
<html>
<head>
    <title>Sample Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f8ff;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
        }
        .card {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
            border-left: 4px solid #3498db;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Welcome to HTML Tester</h1>
        <p>This is a sample page to demonstrate the functionality.</p>
        
        <div class="card">
            <h3>Features:</h3>
            <ul>
                <li>Real-time preview</li>
                <li>Device dimension testing</li>
                <li>Custom export names</li>
                <li>Code formatting</li>
            </ul>
        </div>
        
        <div class="card">
            <h3>Try it out!</h3>
            <p>Modify this HTML to see changes in real-time.</p>
        </div>
    </div>
</body>
</html>`;
        
        // Initialize with sample content
        htmlInput.value = sampleHTML;
        htmlOutput.srcdoc = sampleHTML;
        
        // Auto-refresh preview
        htmlInput.addEventListener('input', () => {
            htmlOutput.srcdoc = htmlInput.value;
        });
        
        // Clear button
        clearBtn.addEventListener('click', () => {
            htmlInput.value = '';
            htmlOutput.srcdoc = '';
        });
        
        // Export functionality
        exportBtn.addEventListener('click', () => {
            exportDialog.classList.add('active');
            fileNameInput.focus();
        });
        
        closeDialog.addEventListener('click', () => {
            exportDialog.classList.remove('active');
        });
        
        cancelExport.addEventListener('click', () => {
            exportDialog.classList.remove('active');
        });
        
        confirmExport.addEventListener('click', () => {
            const fileName = fileNameInput.value.trim() || 'code';
            const description = fileDescription.value.trim();
            
            // Add description as comment if provided
            let content = htmlInput.value;
            if (description) {
                content = `<!-- ${description} -->\n${content}`;
            }
            
            const blob = new Blob([content], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${fileName}.html`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            exportDialog.classList.remove('active');
            fileDescription.value = '';
        });
        
        // Device dimension controls
        function updatePreviewSize() {
            const width = widthInput.value;
            const height = heightInput.value;
            const wrapper = document.querySelector('.preview-wrapper');
            
            wrapper.style.width = `${width}%`;
            wrapper.style.height = `${height}%`;
            dimensionDisplay.textContent = `${width}% × ${height}%`;
        }
        
        widthInput.addEventListener('input', updatePreviewSize);
        heightInput.addEventListener('input', updatePreviewSize);
        
        // Set default size
        updatePreviewSize();
        
        // Device presets
        deviceBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                deviceBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const device = btn.dataset.device;
                switch(device) {
                    case 'desktop':
                        widthInput.value = 100;
                        heightInput.value = 100;
                        break;
                    case 'tablet':
                        widthInput.value = 768;
                        heightInput.value = 100;
                        break;
                    case 'mobile':
                        widthInput.value = 375;
                        heightInput.value = 100;
                        break;
                }
                updatePreviewSize();
            });
        });
        
        // Format HTML button
        formatBtn.addEventListener('click', () => {
            let html = htmlInput.value;
            // Simple formatting - in a real app, use a proper HTML formatter
            html = html.replace(/</g, '&lt;').replace(/>/g, '&gt;');
            html = html.replace(/&lt;(\w+)(.*?)&gt;/g, '<span class="tag">&lt;$1</span><span class="attr">$2</span><span class="tag">&gt;</span>');
            html = html.replace(/&lt;\/(\w+)&gt;/g, '<span class="tag">&lt;/$1&gt;</span>');
            html = html.replace(/"([^"]*)"/g, '<span class="value">"$1"</span>');
            html = html.replace(/&lt;!--([\s\S]*?)--&gt;/g, '<span class="comment">&lt;!--$1--&gt;</span>');
            html = html.replace(/&lt;!\[CDATA\[([\s\S]*?)\]\]&gt;/g, '<span class="comment">&lt;![CDATA[$1]]&gt;</span>');
            html = html.replace(/(\w+)=/g, '<span class="attr">$1</span>=');
            html = html.replace(/(class|id|src|href|alt|title|type|name|value|style|data-\w+)/g, '<span class="keyword">$1</span>');
            html = html.replace(/(function|var|let|const|if|else|for|while|return|true|false|null|undefined)/g, '<span class="keyword">$1</span>');
            html = html.replace(/(document|window|console|alert|prompt|confirm)/g, '<span class="function">$1</span>');
            
            // This is a simplified example - a real implementation would use a proper HTML formatter
            htmlInput.value = html;
        });
        
        // Toggle comments button
        toggleComments.addEventListener('click', () => {
            const content = htmlInput.value;
            if (content.includes('<!--')) {
                // Remove comments
                htmlInput.value = content.replace(/<!--[\s\S]*?-->/g, '');
            } else {
                // Add a sample comment
                htmlInput.value = `<!-- Add your comments here -->\n${content}`;
            }
        });
        
        // Theme selector
        themeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                themeBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                htmlInput.style.backgroundColor = btn.dataset.theme;
            });
        });
        
        // Syntax highlighting (simplified)
        htmlInput.addEventListener('input', function() {
            // This is a simplified approach - a real implementation would use a proper syntax highlighter
            const content = this.value;
            // In a real app, we would parse and highlight the actual syntax
        });
    </script>
</body>
</html>